buildscript {
	ext.kotlin_version = '1.1.4-3'
	ext.logback_version = '1.2.3'

		repositories {
        mavenCentral()
    }
    dependencies {
		classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
	}

}

apply plugin: 'kotlin'

repositories {
	mavenCentral()
	mavenLocal()
}

dependencies {
	compile "org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version"
	compile 'org.slf4j:slf4j-api:1.7.25'
	compile "ch.qos.logback:logback-classic:$logback_version"
	compile "ch.qos.logback:logback-core:$logback_version"
	compile 'org.mongodb.morphia:morphia:1.3.2'
	testCompile group: 'junit', name: 'junit', version: '4.12'
}


jar {
	baseName = 'kmongo'
	version = '0.0.1'

	manifest {
		attributes("Implementation-Title": project.name,
				"Implementation-Version": version,
				"Main-Class": "com.natevaughan.kmongo.Application")
	}

	from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
}
compileKotlin {
	kotlinOptions {
		jvmTarget = "1.8"
	}
}

compileTestKotlin {
	kotlinOptions {
		jvmTarget = "1.8"
	}
}
